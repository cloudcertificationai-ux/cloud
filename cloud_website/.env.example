# Database
DATABASE_URL="postgresql://user:password@localhost:5432/cloudcertification"

# NextAuth
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="your-secret-key-here-generate-with-openssl-rand-base64-32"

# Auth0
AUTH0_CLIENT_ID="your-auth0-client-id"
AUTH0_CLIENT_SECRET="your-auth0-client-secret"
AUTH0_ISSUER="https://your-tenant.auth0.com"

# Google OAuth (via Auth0)
GOOGLE_CLIENT_ID="your-google-client-id"
GOOGLE_CLIENT_SECRET="your-google-client-secret"

# Apple Sign In (via Auth0)
APPLE_CLIENT_ID="your-apple-client-id"
APPLE_CLIENT_SECRET="your-apple-client-secret"

# Stripe
STRIPE_SECRET_KEY="sk_test_..."
STRIPE_PUBLISHABLE_KEY="pk_test_..."
STRIPE_WEBHOOK_SECRET="whsec_..."

# Redis (for rate limiting)
REDIS_URL="redis://localhost:6379"
# Or for production with authentication:
# REDIS_URL="redis://username:password@redis-host:6379"

# CORS Configuration
NEXT_PUBLIC_APP_URL="http://localhost:3000"
ADMIN_PANEL_URL="http://localhost:3001"
ALLOWED_ORIGINS="http://localhost:3000,http://localhost:3001"
ADMIN_ALLOWED_ORIGINS="http://localhost:3001"

# API Keys (generated via scripts/generate-api-key.ts)
# These are used by the admin panel to authenticate with the main app
# API_KEY="ak_live_..."
# API_SECRET="sk_live_..."

# CDN Configuration (for media delivery)
NEXT_PUBLIC_CDN_DOMAIN=https://cdn.cloudcertification.com

# Cloudflare R2 Configuration (for media storage)
# Required for video upload, storage, and delivery
# 
# How to obtain these values:
# 1. Log in to Cloudflare Dashboard (https://dash.cloudflare.com)
# 2. Navigate to R2 Object Storage in the left sidebar
# 3. R2_ACCOUNT_ID: Found in the R2 overview page URL or account settings
# 4. Create API Token:
#    - Click "Manage R2 API Tokens" button
#    - Click "Create API Token"
#    - Give it a name (e.g., "Cloud Certification Production")
#    - Set permissions to "Object Read & Write"
#    - Click "Create API Token"
#    - Copy the Access Key ID and Secret Access Key (shown only once!)
# 5. R2_BUCKET_NAME: Create a bucket in R2 dashboard, use that bucket name
# 6. R2_PUBLIC_DOMAIN: 
#    - Option 1: Use the auto-generated R2.dev subdomain (https://your-bucket.r2.dev)
#    - Option 2: Connect a custom domain in bucket settings for CDN delivery
#
R2_ACCOUNT_ID="your-cloudflare-account-id"
R2_ACCESS_KEY_ID="your-r2-access-key-id"
R2_SECRET_ACCESS_KEY="your-r2-secret-access-key"
R2_BUCKET_NAME="your-r2-bucket-name"
R2_PUBLIC_DOMAIN="https://your-bucket.r2.dev"

# Cloudflare Signed URL Configuration (for secure playback)
# Required for enrollment-verified, time-limited video access
#
# How to obtain these values:
# 1. CLOUDFLARE_ACCOUNT_ID: Same as R2_ACCOUNT_ID above
# 2. Generate a key pair for signed URLs:
#    - Navigate to your R2 bucket settings
#    - Go to "Settings" tab
#    - Scroll to "Signed URLs" section
#    - Click "Generate Key Pair"
#    - Copy the Key Pair ID (CLOUDFLARE_KEY_PAIR_ID)
#    - Download the private key file (.pem)
#    - Convert private key to base64: 
#      cat private-key.pem | base64 | tr -d '\n'
#    - Use the base64 output as CLOUDFLARE_PRIVATE_KEY
# 3. Keep the private key secure - never commit it to version control
#
CLOUDFLARE_ACCOUNT_ID="your-cloudflare-account-id"
CLOUDFLARE_KEY_PAIR_ID="your-key-pair-id"
CLOUDFLARE_PRIVATE_KEY="your-private-key-base64"

# Video Watermarking (optional - Requirement 16.4)
# Set to 'true' to enable watermarking with user email on video frames
# Set to 'false' or leave unset to disable watermarking
# Note: Watermarking requires ffmpeg with libfreetype support
ENABLE_VIDEO_WATERMARKING="false"

# Production URLs (uncomment for production)
# NEXT_PUBLIC_APP_URL="https://app.example.com"
# ADMIN_PANEL_URL="https://admin.example.com"
# ALLOWED_ORIGINS="https://app.example.com,https://admin.example.com"
# ADMIN_ALLOWED_ORIGINS="https://admin.example.com"
